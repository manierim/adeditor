{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Map.vue?9b59","webpack:///./src/App.vue?dde0","webpack:///./src/components/LoadRoute.vue?08c2","webpack:///./src/utils/waypoint.js","webpack:///./src/utils/Map.js","webpack:///./src/utils/routeparser.js","webpack:///src/components/LoadRoute.vue","webpack:///./src/utils/svghandling.js","webpack:///./src/components/LoadRoute.vue?7e54","webpack:///./src/components/LoadRoute.vue","webpack:///./src/components/Map.vue?1d27","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue","webpack:///./src/components/partials/Card.vue?9fda","webpack:///src/components/partials/Card.vue","webpack:///./src/components/partials/Card.vue?45e2","webpack:///./src/components/partials/Card.vue","webpack:///./src/utils/math.js","webpack:///./src/utils/editor.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/partials/Card.vue?5f4d","webpack:///./src/App.vue?0ae0"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","scopedSlots","_u","fn","_v","proxy","mapLoading","editor","on","$event","mapImageURL","mapLoaded","saveMap","domProps","_s","_e","selection","_l","item","index","selectionItemKey","mouseOver","selectionItemCmds","waypoint","marker","branch","wpts","slot","cmdGroup","group","cmd","directives","rawName","expression","modifiers","selectionItemCmd","icon","emptySelection","reverseSelection","toolInstance","action","class","dropdown","options","toolAction","label","option","actions","redoables","undo","redo","map","composing","$set","desc","size","factor","waypointsArray","branches","selectionWithHL","mapClick","branchClick","wptClick","wptDragged","staticRenderFns","loading","cansave","$emit","getFile","_m","getImage","saveName","substring","savePng","Waypoint","x","y","z","ins","outs","parseInt","parseFloat","cache","forEach","wpt","existingOuts","targetIndex","_cache_check","def","linkType","linksofType","linkedWpts","filter","linkedNodeIndex","set","existingIns","idx","waypoints","cacheKey","indexOf","isNode","Set","inFromOuts","Map","parser","lastid","parsed","parse","max","Math","abs","id","linkedArray","list","split","linkedStr","linkedId","pow","ceil","log2","markers","buildBranches","Vue","delete","entries","kv","content","getContentForSave","element","encodeURIComponent","fileName","style","display","body","click","removeChild","BidirectionalInitialWaypointsDone","doneNodes","buildBranchesForNode","node","linkedNode","prevwpt","nextWptIndex","warn","bidirectional","reverse","wptInBranch","addBranch","doneBranchWaypoints","branchNodes","prev","next","mapFromXMLFile","xmlString","response","parseString","require","parseStringPromise","xml","AutoDrive","routeExport","default","instance","props","Boolean","methods","loadingStatus","reader","readAsText","selectedFile","component","ref","mapMouseMove","mouseBtn","mapBoundsPoints","folder","original","sindex","debug","toFixed","join","draggable","wptDragging","dragged","currentTarget","stopPropagation","wptMouseBtn","selIndex","highlight","single","selectedWpts","preview","pathDef","line","segments","reduced","total","mouse","distance","panZoomOptions","controlIconsEnabled","dblClickZoomEnabled","zoomScaleSensitivity","minZoom","maxZoom","customEventsHandler","haltEventListeners","init","initialScale","pannedX","pannedY","hammer","Hammer","svgElement","inputClass","SUPPORT_POINTER_EVENTS","PointerEventInput","TouchInput","enable","zoomIn","ev","panBy","deltaX","deltaY","getZoom","zoomAtPoint","scale","center","addEventListener","preventDefault","destroy","svghandling","svgPanZoom","svgDropPoint","createSVGPoint","matrixTransform","getElementsByClassName","getCTM","inverse","resize","Array","String","computed","sqrt","selectedBranches","branchsInEditing","drawnBranches","dbranch","reducedsegments","reduce","mouseEventMapCoords","button","offset","dragstart","handler","getSvgPoint","leftclicking","svgpoint","windowResize","reducePath","dist","point","dx","dz","distToSegment","start","end","l2","min","wptIndex","beforeDestroy","removeEventListener","mounted","collapsable","collapsed","_t","hasTitle","$slots","title","closestPointToLine","a","b","atob","atop","len","dot","actionExecutor","newPwt","addWaypoint","removeWaypoint","toIndex","pop","count","removed","remember","dragend","movedWpts","highlightEventType","newPos","lastAlignment","originalwpts","wptA","wptB","wptALinkType","wptBLinkType","idxOut","idxIn","checkedOption","prevWpt","insIndex","prevOriginal","wdata","Editor","executor","toolsAvailable","rebuildBranches","mapRebuildBranches","updateAvilableTools","description","selectionWaypointsAndBranches","alignOptions","alignable","w","selectionRemoveAtIndex","selectionInsert","selectionRemoveItems","selectionMove","doneaction","doneAction","find","code","ctrlKey","shiftKey","altKey","metaKey","repeat","deleteKeyAction","selectionReplace","done","save","movedWaypoint","sort","sum","selectionIndex","findIndex","selectionAdd","mouseAddToSelectionAction","mouseReplaceSelectionAction","selectionMouseActions","origin","linkWayPointsToggle","components","Card","LoadRoute","defaultMapSizes","cmds","lastIndex","grps","params","elementType","use","VTooltip","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.40d393cc.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"dds\":\"dds\"}[chunkId]||chunkId) + \".\" + {\"chunk-2d0e1d75\":\"a5e6dd93\",\"chunk-7e07bcb6\":\"a5e0565e\",\"dds\":\"0c01a8db\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/adeditor/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=6941540f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=6941540f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-row h-screen w-screen items-stretch\",attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"flex flex-grow-0 flex-col items-stretch p-2\",staticStyle:{\"width\":\"16em\"}},[_c('Card',{staticClass:\"flex-grow-0 mb-2\",scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Files \")]},proxy:true}])},[_c('LoadRoute',{attrs:{\"cansave\":!_vm.mapLoading && !!_vm.editor},on:{\"loading-status\":function($event){_vm.mapLoading = $event},\"map-image-change\":function($event){_vm.mapImageURL = $event},\"map-xml-loaded\":_vm.mapLoaded,\"save-map\":_vm.saveMap}}),(_vm.error)?_c('div',{staticClass:\"flex\"},[_c('span',{staticClass:\"text-red-600 font-bold w-full \",domProps:{\"textContent\":_vm._s(_vm.error)}})]):_vm._e()],1),(!_vm.mapLoading && _vm.editor)?[(_vm.editor.selection.length)?_c('Card',{staticClass:\"flex-grow-0 mb-2\",attrs:{\"collapsable\":false},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Selected items \")]},proxy:true}],null,false,982736498)},[_c('ul',_vm._l((_vm.editor.selection),function(item,index){return _c('li',{key:_vm.selectionItemKey(item),on:{\"mouseenter\":function($event){return _vm.mouseOver('selection', $event, { item: item })},\"mouseleave\":function($event){return _vm.mouseOver('selection', $event, { item: item })}}},[_c('v-popover',{staticClass:\"v-popover--block cursor-pointer hover:bg-pink-300\",attrs:{\"disabled\":_vm.selectionItemCmds(item, index).length === 0,\"placement\":\"right\",\"openClass\":\"bg-pink-300\",\"popoverInnerClass\":\"bg-gray-200 p-2 rounded shadow flex flex-row\"}},[_c('div',{staticClass:\"tooltip-target\"},[(item.waypoint)?_c('div',[_c('span',[_vm._v(\"Waypoint # \"+_vm._s(item.waypoint.index))]),(item.waypoint.marker)?_c('span',{staticClass:\"ml-1 font-bold\",domProps:{\"textContent\":_vm._s(item.waypoint.marker.name)}}):_vm._e()]):_vm._e(),(item.branch)?_c('div',[_c('span',[_vm._v(\"Branch # \"+_vm._s(item.branch.index)+\" (\"+_vm._s(item.branch.wpts.length)+\" wpts)\")])]):_vm._e()]),_c('template',{slot:\"popover\"},_vm._l((_vm.selectionItemCmds(item, index)),function(cmdGroup){return _c('div',{key:cmdGroup.group,staticClass:\"flex-col mb-1\",on:{\"mouseenter\":function($event){return _vm.mouseOver('selection', $event, { item: item })},\"mouseleave\":function($event){return _vm.mouseOver('selection', $event, { item: item })}}},_vm._l((cmdGroup.cmds),function(cmd){return _c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.right\",value:(cmd.label),expression:\"cmd.label\",modifiers:{\"right\":true}}],key:cmd.value,staticClass:\"flex bg-gray-300 hover:bg-gray-400 p-1 whitespace-no-wrap\",on:{\"click\":function($event){return _vm.selectionItemCmd({ item: item, index: index, cmd: cmd })}}},[_c('span',{staticClass:\"material-icons fill-current\",domProps:{\"textContent\":_vm._s(cmd.icon)}})])}),0)}),0)],2)],1)}),0),_c('div',{staticClass:\"flex flex-row text-xs\"},[(_vm.editor.selection.length)?_c('button',{staticClass:\"m-1 p1 w-full border shadow has-tooltip\",on:{\"click\":_vm.emptySelection}},[_vm._v(\" Empty \")]):_vm._e(),(_vm.editor.selection.length > 1)?_c('button',{staticClass:\"m-1 p1 w-full border shadow has-tooltip\",on:{\"click\":_vm.reverseSelection}},[_vm._v(\" Reverse \")]):_vm._e()])]):_vm._e(),_c('Card',{staticClass:\"flex-grow mb-2\",attrs:{\"collapsable\":false},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Tools \")]},proxy:true}],null,false,1256915702)},_vm._l((_vm.editor.toolsAvailable),function(toolInstance){return _c('div',{key:toolInstance.action,staticClass:\"flex flex-col self-stretch mb-1\",class:{ dropdown: toolInstance.options }},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.right\",value:(toolInstance.description),expression:\"toolInstance.description\",modifiers:{\"right\":true}}],staticClass:\"inline-flex items-stretch bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-1 px-2 rounded\",on:{\"mouseenter\":function($event){if (!toolInstance.options) {\n                _vm.mouseOver('toolInstance', $event, { toolInstance: toolInstance });\n              }},\"mouseleave\":function($event){if (!toolInstance.options) {\n                _vm.mouseOver('toolInstance', $event, { toolInstance: toolInstance });\n              }},\"click\":function($event){if (!toolInstance.options) {\n                _vm.toolAction(toolInstance);\n              }}}},[_c('span',{staticClass:\"material-icons fill-current mr-1\",domProps:{\"textContent\":_vm._s(toolInstance.icon)}}),_c('span',{domProps:{\"textContent\":_vm._s(toolInstance.label)}}),(toolInstance.options)?_c('span',[_vm._v(\"🠋\")]):_vm._e()]),(toolInstance.options)?_c('ul',{staticClass:\"flex flex-col self-stretch dropdown-content absolute hidden text-gray-800 pt-1 mt-8\"},_vm._l((toolInstance.options),function(option){return _c('li',{key:option.index,staticClass:\"flex block self-stretch\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.right\",value:(option.description),expression:\"option.description\",modifiers:{\"right\":true}}],staticClass:\"flex w-full items-stretch bg-gray-300 hover:bg-gray-400 p-1 whitespace-no-wrap\",on:{\"mouseenter\":function($event){return _vm.mouseOver('toolInstance', $event, { toolInstance: toolInstance, option: option })},\"mouseleave\":function($event){return _vm.mouseOver('toolInstance', $event, { toolInstance: toolInstance, option: option })},\"click\":function($event){return _vm.toolAction(toolInstance, option)}}},[(option.icon)?_c('span',{staticClass:\"material-icons fill-current mr-1\",domProps:{\"textContent\":_vm._s(option.icon)}}):_vm._e(),_c('span',{domProps:{\"textContent\":_vm._s(option.label)}})])])}),0):_vm._e()])}),0),(_vm.editor && (_vm.editor.actions.length || _vm.editor.redoables.length))?_c('Card',{staticClass:\"flex-grow-0\",scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Undo/Redo \")]},proxy:true}],null,false,382143710)},[_c('div',{staticClass:\"flex flex-row\"},[_c('div',{staticClass:\"flex-1 m-1\"},[(_vm.editor.actions.length)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.editor.actions.slice(-1)[0].label),expression:\"editor.actions.slice(-1)[0].label\",modifiers:{\"top\":true}}],staticClass:\"w-full border shadow\",on:{\"click\":_vm.undo}},[_vm._v(\" Undo \")]):_vm._e()]),_c('div',{staticClass:\"flex-1 m-1\"},[(_vm.editor.redoables.length)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.editor.redoables.slice(-1)[0].label),expression:\"editor.redoables.slice(-1)[0].label\",modifiers:{\"top\":true}}],staticClass:\"w-full  border shadow\",on:{\"click\":_vm.redo}},[_vm._v(\" Redo \")]):_vm._e()])])]):_vm._e(),_c('Card',{staticClass:\"flex-grow-0\",scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Info \")]},proxy:true}],null,false,727986227)},[_c('div',{staticClass:\"flex flex-col text-sm\"},[_c('span',{staticClass:\"flex text-center\"},[_c('label',{staticClass:\"mr-1\",attrs:{\"for\":\"mapsize\"}},[_vm._v(\"Map Size\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editor.map.size),expression:\"editor.map.size\"}],attrs:{\"type\":\"number\",\"id\":\"mapsize\",\"list\":\"sizes\"},domProps:{\"value\":(_vm.editor.map.size)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editor.map, \"size\", $event.target.value)}}}),_c('datalist',{attrs:{\"id\":\"sizes\"}},_vm._l((_vm.defaultMapSizes),function(desc,size){return _c('option',{key:size,domProps:{\"value\":size,\"textContent\":_vm._s(desc)}})}),0),(_vm.factor)?_c('span',{staticClass:\"ml-1\"},[_vm._v(\"(\"+_vm._s(_vm.factor)+\")\")]):_vm._e()]),_c('span',{staticClass:\"flex text-center\"},[_vm._v(\" Waypoints: \"+_vm._s(_vm.editor.map.waypointsArray().length)+\" \")]),_c('span',{staticClass:\"flex text-center\"},[_vm._v(\" Branches: \"+_vm._s(_vm.editor.map.branches.length)+\" \")])])])]:_vm._e(),_c('Card',[_c('div',{staticClass:\"text-xs\"},[_vm._v(\" For info and help see \"),_c('a',{staticClass:\"font-semibold text-gray-700 underline hover:text-gray-800 hover:no-underline\",attrs:{\"href\":\"https://github.com/manierim/adeditor#main-features\",\"target\":\"_blank\"}},[_vm._v(\"readme on GitHub\")])])])],2),(!_vm.mapLoading && _vm.editor)?_c('Map',{staticClass:\"flex flex-grow border border-gray-400 rounded shadow-md m-2 ml-0 p-2\",attrs:{\"mapImageURL\":_vm.mapImageURL,\"editor\":_vm.editor,\"selection\":_vm.selectionWithHL},on:{\"map-click\":_vm.mapClick,\"branch-click\":_vm.branchClick,\"wpt-click\":_vm.wptClick,\"wpt-dragged\":_vm.wptDragged}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form flex flex-col text-sm\"},[_c('div',{staticClass:\"flex flex-col mb-2\"},[(!_vm.loading && _vm.cansave)?[_c('button',{staticClass:\"w-full border shadow\",on:{\"click\":function($event){return _vm.$emit('save-map')}}},[_vm._v(\" Save \")])]:[_c('span',{staticClass:\"flex text-xs\"},[_vm._v(\"XML\")]),_c('input',{staticClass:\"flex text-xs\",attrs:{\"disabled\":_vm.loading,\"type\":\"file\"},on:{\"change\":_vm.getFile}})]],2),_c('div',{staticClass:\"flex flex-col\"},[_vm._m(0),_c('input',{staticClass:\"flex text-xs\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.getImage}}),(_vm.savePng)?[_c('a',{staticClass:\"w-full border shadow text-center text-xs my-1\",attrs:{\"download\":_vm.saveName.substring(0, _vm.saveName.length - 4) + '.png',\"href\":_vm.savePng}},[_vm._v(\" Download PNG \")]),_c('p',{staticClass:\"flex text-xs italic\"},[_vm._v(\" Conversion from DDS requires time. It is suggested to downnoald the converted PNG image and use it in future. \")])]:_vm._e()],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"flex text-xs\"},[_c('span',[_vm._v(\"Image\")]),_c('span',{staticClass:\"italic ml-1\"},[_vm._v(\"(.dds from map or converted .png)\")])])}]\n\nexport { render, staticRenderFns }","export default class Waypoint {\n  map;\n  index;\n  x;\n  y;\n  z;\n  marker;\n  ins;\n  outs;\n\n  constructor(map, index, x, y, z, ins, outs) {\n    this.map = map;\n    this.index = parseInt(index);\n    this.x = parseFloat(x);\n    this.y = parseFloat(y);\n    this.z = parseFloat(z);\n    this.marker = null;\n\n    this.ins = ins;\n    this.outs = outs;\n  }\n\n  inFromOuts() {\n    if (this.map.cache[\"inFromOuts\"] === undefined) {\n      this.map.cache[\"inFromOuts\"] = {};\n      this.map.waypointsArray().forEach(wpt => {\n        if (!this.map.cache[\"inFromOuts\"][wpt.index]) {\n          this.map.cache[\"inFromOuts\"][wpt.index] = [];\n        }\n        wpt.existingOuts().forEach(targetIndex => {\n          if (!this.map.cache[\"inFromOuts\"][targetIndex]) {\n            this.map.cache[\"inFromOuts\"][targetIndex] = [];\n          }\n          this.map.cache[\"inFromOuts\"][targetIndex].push(wpt.index);\n        });\n      });\n    }\n    return this.map.cache[\"inFromOuts\"];\n  }\n\n  _cache_check() {\n    if (this.map.cache[\"wpts\"] === undefined) {\n      this.map.cache[\"wpts\"] = {};\n    }\n    if (this.map.cache[\"wpts\"][this.index] === undefined) {\n      this.map.cache[\"wpts\"][this.index] = {};\n    }\n  }\n\n  set(key, value) {\n    this._cache_check();\n    this.map.cache[\"wpts\"][this.index][key] = value;\n  }\n\n  get(key, def) {\n    this._cache_check();\n    if (this.map.cache[\"wpts\"][this.index][key] !== undefined) {\n      return this.map.cache[\"wpts\"][this.index][key];\n    }\n    return def;\n  }\n\n  linksofType(linkType) {\n    let linksofType = this.get(\"linksofType\");\n    if (linksofType === undefined) {\n      linksofType = {};\n      [\"in\", \"out\", \"bidirectional\", \"reverse-in\", \"reverse-out\"].forEach(\n        linkType => {\n          linksofType[linkType] = this.linkedWpts().filter(\n            linkedNodeIndex => this.linkType(linkedNodeIndex) === linkType\n          );\n        }\n      );\n      this.set(\"linksofType\", linksofType);\n    }\n\n    if (linkType !== undefined) {\n      return linksofType[linkType];\n    }\n    return linksofType;\n  }\n\n  existingIns() {\n    let existingIns = this.get(\"existingIns\");\n    if (existingIns === undefined) {\n      existingIns = this.ins.filter(idx => this.map.waypoints[idx]);\n      this.set(\"existingIns\", existingIns);\n    }\n    return existingIns;\n  }\n\n  existingOuts() {\n    let existingOuts = this.get(\"existingOuts\");\n    if (existingOuts === undefined) {\n      existingOuts = this.outs.filter(idx => this.map.waypoints[idx]);\n      this.set(\"existingOuts\", existingOuts);\n    }\n    return existingOuts;\n  }\n\n  linkType(targetIndex) {\n    let cacheKey = \"linkType-\" + targetIndex;\n    let linkType = this.get(cacheKey);\n    if (linkType === undefined) {\n      linkType = null;\n\n      if (this.linkedWpts().indexOf(targetIndex) !== -1) {\n        linkType = \"in\";\n        if (\n          this.existingOuts().indexOf(targetIndex) !== -1 &&\n          this.existingIns().indexOf(targetIndex) !== -1\n        ) {\n          linkType = \"bidirectional\";\n        } else if (\n          this.existingIns().indexOf(targetIndex) !== -1 &&\n          this.map.waypoints[targetIndex].existingOuts().indexOf(this.index) !==\n            -1\n        ) {\n          linkType = \"in\";\n        } else if (\n          this.existingOuts().indexOf(targetIndex) !== -1 &&\n          this.map.waypoints[targetIndex].existingIns().indexOf(this.index) !==\n            -1\n        ) {\n          linkType = \"out\";\n        } else if (this.existingOuts().indexOf(targetIndex) !== -1) {\n          linkType = \"reverse-out\";\n        } else {\n          linkType = \"reverse-in\";\n        }\n      }\n\n      this.set(cacheKey, linkType);\n    }\n    return linkType;\n  }\n\n  isNode() {\n    let isNode = this.get(\"isNode\");\n    if (isNode === undefined) {\n      isNode = true;\n      let linkedWpts = this.linkedWpts();\n      if (linkedWpts.length === 2) {\n        isNode = !(\n          // standard in -> out\n          (\n            (this.linkType(linkedWpts[0]) === \"in\" &&\n              this.linkType(linkedWpts[1]) === \"out\") ||\n            // standard out -> in\n            (this.linkType(linkedWpts[0]) === \"out\" &&\n              this.linkType(linkedWpts[1]) === \"in\") ||\n            // reverse out -> in\n            (this.linkType(linkedWpts[0]) === \"reverse-out\" &&\n              this.linkType(linkedWpts[1]) === \"reverse-in\") ||\n            // reverse in -> out\n            (this.linkType(linkedWpts[0]) === \"reverse-in\" &&\n              this.linkType(linkedWpts[1]) === \"reverse-out\") ||\n            // bidirectional\n            (this.linkType(linkedWpts[0]) === \"bidirectional\" &&\n              this.linkType(linkedWpts[1]) === \"bidirectional\")\n          )\n        );\n      }\n      this.set(\"isNode\", isNode);\n    }\n    return isNode;\n  }\n\n  linkedWpts() {\n    let linkedWpts = this.get(\"linkedWpts\");\n\n    if (linkedWpts === undefined) {\n      linkedWpts = [\n        ...new Set([\n          ...this.existingIns(),\n          ...this.existingOuts(),\n          ...this.inFromOuts()[this.index]\n        ])\n      ];\n      this.set(\"linkedWpts\", linkedWpts);\n    }\n    return linkedWpts;\n  }\n\n  branches() {\n    return this.get(\"branches\", []);\n  }\n\n  addBranch(branch) {\n    let branches = this.get(\"branches\", []);\n    branches.push(branch);\n    this.set(\"branches\", branches);\n  }\n}\n","import Waypoint from \"./waypoint\";\nimport Vue from \"vue\";\n\nexport default class Map {\n  parser;\n  cache;\n  waypoints;\n  size;\n  branches;\n  lastid;\n\n  constructor(parser) {\n    this.parser = parser;\n\n    this.cache = {};\n    this.waypoints = {};\n    this.lastid = 0;\n\n    let parsed = this.parser.parse();\n\n    let max = 0;\n\n    for (let index = 0; index < parsed.x.length; index++) {\n      if (Math.abs(parsed.x[index]) > max) {\n        max = Math.abs(parsed.x[index]);\n      }\n      if (Math.abs(parsed.z[index]) > max) {\n        max = Math.abs(parsed.z[index]);\n      }\n      let id = index + 1;\n      if (parsed.id) {\n        id = parseInt(parsed.id[index]);\n      }\n\n      let linkedArray = (list) =>\n        list\n          .split(\",\")\n          .map((linkedStr) => parseInt(linkedStr))\n          .filter((linkedId) => linkedId > 0);\n\n      let wpt = new Waypoint(\n        this,\n        id,\n        parseFloat(parsed.x[index]),\n        parseFloat(parsed.y[index]),\n        parseFloat(parsed.z[index]),\n        linkedArray(parsed.ins[index]),\n        linkedArray(parsed.outs[index])\n      );\n\n      this.waypoints[id] = wpt;\n      if (id > this.lastid) {\n        this.lastid = id;\n      }\n    }\n\n    let size = 2048;\n    if (max) {\n      size = Math.pow(2, Math.ceil(Math.log2(Math.ceil(max / 1024)))) * 2048;\n    }\n\n    this.size = size;\n\n    parsed.markers.forEach((marker) => {\n      this.waypoints[marker.index].marker = marker;\n    });\n\n    this.buildBranches();\n  }\n\n  addWaypoint({ waypoint, x, y, z }) {\n    if (!waypoint) {\n      let id = ++this.lastid;\n\n      waypoint = new Waypoint(\n        this,\n        id,\n        parseFloat(x),\n        parseFloat(y),\n        parseFloat(z),\n        [],\n        []\n      );\n    }\n\n    Vue.set(this.waypoints, waypoint.index, waypoint);\n\n    if (this.cache[\"inFromOuts\"]) {\n      this.cache[\"inFromOuts\"][waypoint.index] = [];\n    }\n    return waypoint;\n  }\n  removeWaypoint(index) {\n    if (!this.waypoints[index]) {\n      return;\n    }\n    Vue.delete(this.waypoints, index);\n    return true;\n  }\n\n  waypointsArray() {\n    return Object.entries(this.waypoints).map((kv) => kv[1]);\n  }\n\n  markers() {\n    return this.waypointsArray()\n      .filter((wpt) => wpt.marker)\n      .map((wpt) => {\n        wpt.marker.wpt = wpt;\n        return wpt.marker;\n      });\n  }\n\n  save() {\n    let content = this.parser.getContentForSave(\n      this.waypointsArray(),\n      this.markers()\n    );\n\n    var element = document.createElement(\"a\");\n    element.setAttribute(\n      \"href\",\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(content)\n    );\n    element.setAttribute(\"download\", this.parser.fileName);\n\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n\n    element.click();\n\n    document.body.removeChild(element);\n  }\n\n  buildBranches() {\n    if (!this.waypointsArray().length) {\n      this.branches = [];\n      return;\n    }\n\n    let branches = [];\n    this.cache = {};\n\n    let BidirectionalInitialWaypointsDone = [];\n    let doneNodes = [];\n\n    let buildBranchesForNode = (node) => {\n      if (doneNodes.indexOf(node.index) !== -1) {\n        return;\n      }\n      doneNodes.push(node.index);\n\n      [\"bidirectional\", \"out\", \"reverse-out\"].forEach((linkType) => {\n        // build branches from this node\n        node.linksofType(linkType).forEach((linkedNodeIndex) => {\n          if (\n            linkType === \"bidirectional\" &&\n            BidirectionalInitialWaypointsDone.indexOf(linkedNodeIndex) !== -1\n          ) {\n            return;\n          }\n          let wpts = [node];\n\n          let linkedNode = this.waypoints[linkedNodeIndex];\n          if (!linkedNode) {\n            console.warn(\"cannot find waypoint #\", linkedNodeIndex);\n            return;\n          }\n\n          wpts.push(linkedNode);\n\n          let prevwpt = node;\n\n          while (\n            linkedNode &&\n            !linkedNode.isNode() &&\n            linkedNode.index !== node.index\n          ) {\n            prevwpt = linkedNode;\n\n            let nextWptIndex = linkedNode\n              .linkedWpts()\n              .filter((id) => id !== wpts.slice(-2, -1)[0].index)[0];\n\n            linkedNode = this.waypoints[nextWptIndex];\n\n            if (!linkedNode) {\n              console.warn(\"cannot find waypoint #\", nextWptIndex);\n              continue;\n            }\n\n            wpts.push(linkedNode);\n          }\n\n          if (linkType === \"bidirectional\") {\n            BidirectionalInitialWaypointsDone.push(prevwpt.index);\n          }\n\n          let branch = {\n            index: branches.length,\n            bidirectional: linkType === \"bidirectional\",\n            reverse: linkType === \"reverse-out\",\n            wpts: wpts,\n          };\n\n          wpts.forEach((wptInBranch) => {\n            wptInBranch.addBranch(branch);\n          });\n\n          branches.push(branch);\n        });\n      });\n    };\n\n    let doneBranchWaypoints = [];\n\n    this.waypointsArray().forEach((wpt) => {\n      if (\n        !wpt.linkedWpts().length ||\n        doneBranchWaypoints.indexOf(wpt.index) !== -1\n      ) {\n        return;\n      }\n\n      let branchNodes = [];\n      let prev = null;\n\n      while (!wpt.isNode() && branchNodes.indexOf(wpt.index) === -1) {\n        doneBranchWaypoints.push(wpt.index);\n\n        branchNodes.push(wpt.index);\n\n        let next = wpt.linkedWpts()[0];\n\n        if (prev !== null && next === prev) {\n          next = wpt.linkedWpts()[1];\n        }\n        prev = wpt.index;\n        wpt = this.waypoints[next];\n      }\n\n      buildBranchesForNode(wpt);\n    });\n\n    this.branches = branches;\n  }\n}\n","import Map from \"./Map\";\n\nexport async function mapFromXMLFile(xmlString, fileName) {\n  let response = {\n    map: null,\n    error: null\n  };\n\n  let parseString = require(\"xml2js\").parseStringPromise;\n\n  let xml;\n\n  try {\n    xml = await parseString(xmlString);\n  } catch (err) {\n    response.error = err;\n    return response;\n  }\n\n  let parser;\n\n  if (xml.AutoDrive) {\n    parser = await import(\"./Adaptors/configSave\");\n  }\n\n  if (xml.routeExport) {\n    parser = await import(\"./Adaptors/routeExport\");\n  }\n\n  if (!parser) {\n    response.error = \"File format not recognized\";\n    return response;\n  }\n\n  response.map = new Map(new parser.default(xml, fileName));\n\n  return response;\n}\n","<template>\n  <div class=\"form flex flex-col text-sm\">\n    <div class=\"flex flex-col mb-2\">\n      <template v-if=\"!loading && cansave\">\n        <button class=\"w-full border shadow\" @click=\"$emit('save-map')\">\n          Save\n        </button>\n      </template>\n      <template v-else>\n        <span class=\"flex text-xs\">XML</span>\n        <input\n          :disabled=\"loading\"\n          class=\"flex text-xs\"\n          @change=\"getFile\"\n          type=\"file\"\n        />\n      </template>\n    </div>\n    <div class=\"flex flex-col\">\n      <p class=\"flex text-xs\">\n        <span>Image</span>\n        <span class=\"italic ml-1\">(.dds from map or converted .png)</span>\n      </p>\n      <input class=\"flex text-xs\" @change=\"getImage\" type=\"file\" />\n      <template v-if=\"savePng\">\n        <a\n          class=\"w-full border shadow text-center text-xs my-1\"\n          :download=\"saveName.substring(0, saveName.length - 4) + '.png'\"\n          :href=\"savePng\"\n        >\n          Download PNG\n        </a>\n        <p class=\"flex text-xs italic\">\n          Conversion from DDS requires time. It is suggested to downnoald the\n          converted PNG image and use it in future.\n        </p>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapFromXMLFile } from \"../utils/routeparser\";\nconst dds = () => import(/* webpackChunkName: \"dds\"*/ \"../utils/dds.js\");\n\nexport default {\n  name: \"LoadRoute\",\n  data: () => ({\n    loading: false,\n    savePng: null,\n    saveName: null,\n  }),\n  props: {\n    cansave: Boolean,\n  },\n  methods: {\n    loadingStatus(loading) {\n      if (loading === this.loading) {\n        return;\n      }\n      this.loading = loading;\n      this.$emit(\"loading-status\", loading);\n    },\n    async getImage(event) {\n      let mapImageURL;\n\n      if (event.target.files[0].type === \"image/vnd.ms-dds\") {\n        let reader = new FileReader();\n\n        reader.onload = async (e) => {\n          const { createObjectURLFromDDS } = await dds();\n          let url = await createObjectURLFromDDS(e.target.result);\n          if (url) {\n            this.savePng = url;\n            this.saveName = event.target.files[0].name;\n            this.$emit(\"map-image-change\", url);\n          }\n        };\n\n        reader.readAsArrayBuffer(event.target.files[0]);\n      }\n\n      if (event.target.files[0].type === \"image/png\") {\n        mapImageURL = URL.createObjectURL(event.target.files[0]);\n        if (mapImageURL) {\n          this.savePng = null;\n          this.$emit(\"map-image-change\", mapImageURL);\n        }\n      }\n    },\n    getFile(event) {\n      this.loadingStatus(true);\n      let selectedFile = event.target.files[0];\n      let reader = new FileReader();\n\n      reader.onload = async (e) => {\n        this.loadingStatus(false);\n        this.$emit(\n          \"map-xml-loaded\",\n          await mapFromXMLFile(e.target.result, selectedFile.name)\n        );\n      };\n      reader.readAsText(selectedFile);\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped></style>\n","/**\n * svg-pan-zoom library\n *\n * https://github.com/ariutta/svg-pan-zoom\n */\nimport svgPanZoom from \"svg-pan-zoom\";\n\nimport Hammer from \"hammerjs\";\n\nconst panZoomOptions = {\n  controlIconsEnabled: true,\n  dblClickZoomEnabled: false,\n  zoomScaleSensitivity: 0.5,\n  minZoom: 0.0005,\n  maxZoom: 100,\n  customEventsHandler: {\n    // Halt all touch events\n    haltEventListeners: [\n      \"touchstart\",\n      \"touchend\",\n      \"touchmove\",\n      \"touchleave\",\n      \"touchcancel\"\n    ],\n\n    // Init custom events handler\n    init(options) {\n      let instance = options.instance,\n        initialScale = 1,\n        pannedX = 0,\n        pannedY = 0;\n      // Init Hammer\n      // Listen only for pointer and touch events\n      this.hammer = Hammer(options.svgElement, {\n        inputClass: Hammer.SUPPORT_POINTER_EVENTS\n          ? Hammer.PointerEventInput\n          : Hammer.TouchInput\n      });\n      // Enable pinch\n      this.hammer.get(\"pinch\").set({ enable: true });\n      // Handle double tap\n      this.hammer.on(\"doubletap\", function() {\n        instance.zoomIn();\n      });\n      // Handle pan\n      this.hammer.on(\"panstart panmove\", function(ev) {\n        // On pan start reset panned variables\n        if (ev.type === \"panstart\") {\n          pannedX = 0;\n          pannedY = 0;\n        }\n        // Pan only the difference\n        instance.panBy({\n          x: ev.deltaX - pannedX,\n          y: ev.deltaY - pannedY\n        });\n        pannedX = ev.deltaX;\n        pannedY = ev.deltaY;\n      });\n      // Handle pinch\n      this.hammer.on(\"pinchstart pinchmove\", function(ev) {\n        // On pinch start remember initial zoom\n        if (ev.type === \"pinchstart\") {\n          initialScale = instance.getZoom();\n          instance.zoomAtPoint(initialScale * ev.scale, {\n            x: ev.center.x,\n            y: ev.center.y\n          });\n        }\n        instance.zoomAtPoint(initialScale * ev.scale, {\n          x: ev.center.x,\n          y: ev.center.y\n        });\n      });\n      // Prevent moving the page on some devices when panning over SVG\n      options.svgElement.addEventListener(\"touchmove\", function(e) {\n        e.preventDefault();\n      });\n    },\n\n    // Destroy custom events handler\n    destroy() {\n      this.hammer.destroy();\n    }\n  }\n};\nlet instance;\nexport default class svghandling {\n  svgElement;\n  constructor(svgElement) {\n    this.svgElement = svgElement;\n    if (instance) {\n      instance.destroy();\n    }\n    instance = svgPanZoom(this.svgElement, panZoomOptions);\n  }\n\n  getSvgPoint({ x, y }) {\n    var svgDropPoint = this.svgElement.createSVGPoint();\n\n    svgDropPoint.x = x;\n    svgDropPoint.y = y;\n\n    return svgDropPoint.matrixTransform(\n      document\n        .getElementsByClassName(\"svg-pan-zoom_viewport\")[0]\n        .getCTM()\n        .inverse()\n    );\n  }\n\n  resize() {\n    instance.resize();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadRoute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadRoute.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoadRoute.vue?vue&type=template&id=36fefc3e&scoped=true&\"\nimport script from \"./LoadRoute.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadRoute.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36fefc3e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('svg',{ref:\"svgMap\",staticClass:\"flex flex-grow bg-gray-200\",attrs:{\"id\":\"svgMap\"},on:{\"mousemove\":_vm.mapMouseMove}},[_c('g',{staticClass:\"svg-pan-zoom_viewport\"},[_c('g',{attrs:{\"pointer-events\":\"fill\"},on:{\"mousedown\":_vm.mouseBtn,\"mouseup\":_vm.mouseBtn,\"mousemove\":_vm.mouseBtn}},[_c('polygon',{staticClass:\"mapbounds\",attrs:{\"id\":\"mapbounds\",\"fill\":\"transparent\",\"points\":_vm.mapBoundsPoints}}),(_vm.mapImageURL)?_c('image',{attrs:{\"x\":-_vm.editor.map.size / 2,\"y\":-_vm.editor.map.size / 2,\"width\":_vm.editor.map.size,\"height\":_vm.editor.map.size,\"href\":_vm.mapImageURL}}):_vm._e()]),_c('g',{staticClass:\"targets\"},_vm._l((_vm.editor.map.markers()),function(marker){return _c('text',{key:marker.index,staticClass:\"marker-label\",attrs:{\"text-anchor\":\"middle\",\"x\":marker.wpt.x,\"y\":marker.wpt.z - 4}},[_vm._v(\" \"+_vm._s(marker.name)+\" \"),(marker.folder)?_c('title',{domProps:{\"textContent\":_vm._s(marker.folder)}}):_vm._e()])}),0),_c('g',{staticClass:\"branches\"},[_c('defs',[_c('marker',{attrs:{\"id\":\"arrow\",\"markerWidth\":\".5\",\"markerHeight\":\".5\",\"refX\":\"-.4\",\"refY\":\".25\",\"orient\":\"auto\",\"markerUnits\":\"strokeWidth\"}},[_c('path',{attrs:{\"d\":\"M0,0 L.5,.25 L0,.5\"}})])]),_vm._l((_vm.drawnBranches),function(branch,index){return _c('g',{key:index},[(_vm.debug)?_c('title',[_vm._v(\"branch # \"+_vm._s(index))]):_vm._e(),_c('path',{staticClass:\"branch\",class:branch.bidirectional\n                ? 'bidirectional'\n                : branch.reverse\n                ? 'reverse'\n                : 'unidirectional',attrs:{\"d\":branch.d},on:{\"click\":function($event){return _vm.$emit('branch-click', { event: $event, branch: branch.original })}}})])}),(_vm.branchsInEditing)?_c('g',{staticClass:\"editing\"},_vm._l((_vm.branchsInEditing),function(branch){return _c('path',{key:branch.sindex,staticClass:\"branch\",attrs:{\"d\":branch.d}})}),0):_vm._e()],2),_c('g',{staticClass:\"waypoints\"},_vm._l((_vm.editor.map.waypointsArray()),function(waypoint){return _c('g',{key:waypoint.index},[(_vm.debug || waypoint.marker)?_c('title',[_vm._v(\" \"+_vm._s(waypoint.marker ? (waypoint.marker.folder ? waypoint.marker.folder + \" / \" : \"\") + waypoint.marker.name + (_vm.debug ? \" | \" : \"\") : \"\")+\" \"+_vm._s(_vm.debug ? \"wpt # \" + waypoint.index + \" @ \" + waypoint.x.toFixed(3) + \", \" + waypoint.z.toFixed(3) + \" (\" + waypoint.y.toFixed(3) + \")\" + \"\\nBranches:\\n\" + waypoint .branches() .map(function (p) { return \"# \" + p.index; }) .join(\"\\n\") : \"\")+\" \")]):_vm._e(),_c('circle',{class:[\n              waypoint.isNode() ? 'node' : 'waypoint',\n              {\n                marker: waypoint.marker ? true : false,\n                draggable:\n                  _vm.wptDragging &&\n                  _vm.wptDragging.dragged &&\n                  _vm.wptDragging.waypoint === waypoint,\n              } ],attrs:{\"cx\":waypoint.x,\"cy\":waypoint.z,\"r\":waypoint.marker ? 1.2 : waypoint.isNode() ? 0.5 : 0.3},on:{\"mousedown\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.wptMouseBtn({ event: $event, waypoint: waypoint })},\"mouseup\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.wptMouseBtn({ event: $event, waypoint: waypoint })},\"mousemove\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.mapMouseMove($event)}}})])}),0),_c('g',{staticClass:\"selection\"},[_vm._l((_vm.selectedBranches),function(ref,selIndex){\n            var branch = ref.branch;\n            var highlight = ref.highlight;\nreturn _c('path',{key:selIndex,staticClass:\"branch\",class:{ highlight: highlight },attrs:{\"d\":branch.d},on:{\"mouseup\":function($event){return _vm.wptMouseBtn({ event: $event })}}})}),_vm._l((_vm.selectedWpts),function(ref){\n            var waypoint = ref.waypoint;\n            var highlight = ref.highlight;\nreturn _c('circle',{key:waypoint.index,staticClass:\"waypoint\",class:{\n            highlight: highlight,\n            single:\n              _vm.editor.selection.length === 1 && _vm.selectedWpts.length === 1,\n          },attrs:{\"cx\":waypoint.x,\"cy\":waypoint.z,\"r\":waypoint.marker ? 1.4 : waypoint.isNode() ? 0.7 : 0.5}})})],2),(_vm.editor.preview)?_c('g',{staticClass:\"preview\"},[(this.editor.preview.line)?[_c('path',{staticClass:\"line\",attrs:{\"d\":_vm.pathDef(this.editor.preview.line)}})]:_vm._e()],2):_vm._e()])]),_c('div',{staticClass:\"absolute object-left-top text-xs\"},[_c('div',{staticClass:\"m-2 p-1 bg-gray-200 border border-gray-700 border-solid rounded\"},[(_vm.debug)?_c('div',[_vm._v(\" Segments drawn: \"+_vm._s(_vm.segments.reduced)+\" of \"+_vm._s(_vm.segments.total)+\" \")]):_vm._e(),(_vm.mouse)?_c('div',[_vm._v(\" Mouse @ \"+_vm._s(_vm.mouse.x.toFixed(3))+\" \"+_vm._s(_vm.mouse.y.toFixed(3))+\" \")]):_vm._e(),(_vm.distance)?_c('div',[_vm._v(\"Distance \"+_vm._s(_vm.distance.toFixed(3)))]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <svg\n      class=\"flex flex-grow bg-gray-200\"\n      id=\"svgMap\"\n      ref=\"svgMap\"\n      @mousemove=\"mapMouseMove\"\n    >\n      <g class=\"svg-pan-zoom_viewport\">\n        <g\n          pointer-events=\"fill\"\n          @mousedown=\"mouseBtn\"\n          @mouseup=\"mouseBtn\"\n          @mousemove=\"mouseBtn\"\n        >\n          <polygon\n            id=\"mapbounds\"\n            class=\"mapbounds\"\n            fill=\"transparent\"\n            :points=\"mapBoundsPoints\"\n          ></polygon>\n\n          <image\n            v-if=\"mapImageURL\"\n            :x=\"-editor.map.size / 2\"\n            :y=\"-editor.map.size / 2\"\n            :width=\"editor.map.size\"\n            :height=\"editor.map.size\"\n            :href=\"mapImageURL\"\n          />\n        </g>\n\n        <g class=\"targets\">\n          <text\n            v-for=\"marker in editor.map.markers()\"\n            :key=\"marker.index\"\n            class=\"marker-label\"\n            text-anchor=\"middle\"\n            :x=\"marker.wpt.x\"\n            :y=\"marker.wpt.z - 4\"\n          >\n            {{ marker.name }}\n            <title v-if=\"marker.folder\" v-text=\"marker.folder\" />\n          </text>\n        </g>\n\n        <g class=\"branches\">\n          <defs>\n            <marker\n              id=\"arrow\"\n              markerWidth=\".5\"\n              markerHeight=\".5\"\n              refX=\"-.4\"\n              refY=\".25\"\n              orient=\"auto\"\n              markerUnits=\"strokeWidth\"\n            >\n              <path d=\"M0,0 L.5,.25 L0,.5\" />\n            </marker>\n          </defs>\n          <g v-for=\"(branch, index) in drawnBranches\" :key=\"index\">\n            <title v-if=\"debug\">branch # {{ index }}</title>\n            <path\n              @click=\"\n                $emit('branch-click', { event: $event, branch: branch.original })\n              \"\n              class=\"branch\"\n              :class=\"\n                branch.bidirectional\n                  ? 'bidirectional'\n                  : branch.reverse\n                  ? 'reverse'\n                  : 'unidirectional'\n              \"\n              :d=\"branch.d\"\n            />\n          </g>\n\n          <g class=\"editing\" v-if=\"branchsInEditing\">\n            <path\n              v-for=\"branch in branchsInEditing\"\n              :key=\"branch.sindex\"\n              class=\"branch\"\n              :d=\"branch.d\"\n            />\n          </g>\n        </g>\n\n        <g class=\"waypoints\">\n          <g\n            v-for=\"waypoint in editor.map.waypointsArray()\"\n            :key=\"waypoint.index\"\n          >\n            <title v-if=\"debug || waypoint.marker\">\n              {{\n                waypoint.marker\n                  ? (waypoint.marker.folder\n                      ? waypoint.marker.folder + \" / \"\n                      : \"\") +\n                    waypoint.marker.name +\n                    (debug ? \" | \" : \"\")\n                  : \"\"\n              }}\n              {{\n                debug\n                  ? \"wpt # \" +\n                    waypoint.index +\n                    \" @ \" +\n                    waypoint.x.toFixed(3) +\n                    \", \" +\n                    waypoint.z.toFixed(3) +\n                    \" (\" +\n                    waypoint.y.toFixed(3) +\n                    \")\" +\n                    \"\\nBranches:\\n\" +\n                    waypoint\n                      .branches()\n                      .map((p) => \"# \" + p.index)\n                      .join(\"\\n\")\n                  : \"\"\n              }}\n            </title>\n            <circle\n              @mousedown.self.stop=\"wptMouseBtn({ event: $event, waypoint })\"\n              @mouseup.self.stop=\"wptMouseBtn({ event: $event, waypoint })\"\n              @mousemove.self.stop=\"mapMouseMove\"\n              :class=\"[\n                waypoint.isNode() ? 'node' : 'waypoint',\n                {\n                  marker: waypoint.marker ? true : false,\n                  draggable:\n                    wptDragging &&\n                    wptDragging.dragged &&\n                    wptDragging.waypoint === waypoint,\n                },\n              ]\"\n              :cx=\"waypoint.x\"\n              :cy=\"waypoint.z\"\n              :r=\"waypoint.marker ? 1.2 : waypoint.isNode() ? 0.5 : 0.3\"\n            />\n          </g>\n        </g>\n\n        <g class=\"selection\">\n          <path\n            @mouseup=\"wptMouseBtn({ event: $event })\"\n            v-for=\"({ branch, highlight }, selIndex) in selectedBranches\"\n            :key=\"selIndex\"\n            class=\"branch\"\n            :class=\"{ highlight }\"\n            :d=\"branch.d\"\n          />\n\n          <circle\n            class=\"waypoint\"\n            v-for=\"{ waypoint, highlight } in selectedWpts\"\n            :key=\"waypoint.index\"\n            :class=\"{\n              highlight,\n              single:\n                editor.selection.length === 1 && selectedWpts.length === 1,\n            }\"\n            :cx=\"waypoint.x\"\n            :cy=\"waypoint.z\"\n            :r=\"waypoint.marker ? 1.4 : waypoint.isNode() ? 0.7 : 0.5\"\n          ></circle>\n        </g>\n\n        <g v-if=\"editor.preview\" class=\"preview\">\n          <template v-if=\"this.editor.preview.line\">\n            <path class=\"line\" :d=\"pathDef(this.editor.preview.line)\" />\n          </template>\n        </g>\n      </g>\n    </svg>\n\n    <div class=\"absolute object-left-top text-xs\">\n      <div\n        class=\"m-2 p-1 bg-gray-200 border border-gray-700 border-solid rounded\"\n      >\n        <div v-if=\"debug\">\n          Segments drawn: {{ segments.reduced }} of {{ segments.total }}\n        </div>\n\n        <div v-if=\"mouse\">\n          Mouse @ {{ mouse.x.toFixed(3) }} {{ mouse.y.toFixed(3) }}\n        </div>\n        <div v-if=\"distance\">Distance {{ distance.toFixed(3) }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport svghandling from \"../utils/svghandling\";\n\nexport default {\n  name: \"Map\",\n  data: () => ({\n    debug: true,\n    leftclicking: null,\n    mouse: null,\n    wptDragging: false,\n  }),\n  props: {\n    editor: Object,\n    selection: Array,\n    mapImageURL: String,\n  },\n  computed: {\n    distance() {\n      if (this.selectedWpts.length === 2) {\n        return Math.sqrt(\n          Math.pow(this.selectedWpts[0].x - this.selectedWpts[1].x, 2) +\n            Math.pow(this.selectedWpts[0].z - this.selectedWpts[1].z, 2)\n        );\n      }\n      return null;\n    },\n    selectedBranches() {\n      return this.selection\n        .filter((item) => item && item.branch)\n        .map((item) => {\n          item.branch.d = this.pathDef(item.branch.wpts);\n          return item;\n        });\n    },\n    selectedWpts() {\n      return this.selection.filter((item) => item && item.waypoint);\n    },\n    branchsInEditing() {\n      if (\n        this.wptDragging &&\n        this.wptDragging.dragged &&\n        this.wptDragging.waypoint\n      ) {\n        return this.wptDragging.waypoint.branches().map((p, index) => {\n          return { index, d: this.pathDef(p.wpts) };\n        });\n      }\n      return null;\n    },\n    drawnBranches() {\n      return this.editor.map.branches.map((branch) => {\n        let reduced = this.reducePath(branch.wpts);\n\n        let dbranch = Object.fromEntries(Object.entries(branch));\n\n        delete dbranch.wpts;\n\n        dbranch.segments = branch.wpts.length - 1;\n        dbranch.reducedsegments = reduced.length - 1;\n        dbranch.d = this.pathDef(reduced);\n        dbranch.original = branch;\n\n        return dbranch;\n      });\n    },\n    segments() {\n      return this.drawnBranches.reduce(\n        (segments, branch) => {\n          return {\n            total: segments.total + branch.segments,\n            reduced: segments.reduced + branch.reducedsegments,\n          };\n        },\n        {\n          total: 0,\n          reduced: 0,\n        }\n      );\n    },\n    mapBoundsPoints() {\n      return [\n        [-this.editor.map.size / 2, -this.editor.map.size / 2].join(\",\"),\n        [this.editor.map.size / 2, -this.editor.map.size / 2].join(\",\"),\n        [this.editor.map.size / 2, this.editor.map.size / 2].join(\",\"),\n        [-this.editor.map.size / 2, this.editor.map.size / 2].join(\",\"),\n      ].join(\" \");\n    },\n  },\n  methods: {\n    pathDef(wpts) {\n      return \"M\" + wpts.map((wpt) => [wpt.x, wpt.z].join(\",\")).join(\" L\");\n    },\n    mapMouseMove(event) {\n      this.mouse = this.mouseEventMapCoords(event);\n\n      if (event.button === 0 && this.wptDragging) {\n        if (\n          !this.wptDragging.dragged &&\n          Math.pow(event.movementX, 2) + Math.pow(event.movementY, 2) > 9\n        ) {\n          this.wptDragging.dragged = true;\n        }\n\n        if (this.wptDragging.dragged) {\n          this.wptDragging.waypoint.x = +(\n            this.mouse.x - this.wptDragging.offset.x\n          ).toFixed(3);\n          this.wptDragging.waypoint.z = +(\n            this.mouse.y - this.wptDragging.offset.y\n          ).toFixed(3);\n        }\n      }\n    },\n    wptMouseBtn({ event, waypoint }) {\n      if (event.button === 0) {\n        if (event.type === \"mousedown\" && waypoint) {\n          this.wptDragging = {\n            waypoint,\n            offset: {\n              x: this.mouse.x - waypoint.x,\n              y: this.mouse.y - waypoint.z,\n            },\n            dragstart: { x: waypoint.x, z: waypoint.z },\n            dragged: false,\n          };\n        }\n\n        if (this.wptDragging && event.type === \"mouseup\") {\n          if (this.wptDragging.dragged) {\n            this.$emit(\"wpt-dragged\", this.wptDragging);\n          } else if (waypoint) {\n            this.$emit(\"wpt-click\", { event, waypoint });\n          }\n          this.wptDragging = false;\n        }\n      }\n    },\n\n    mouseEventMapCoords(event) {\n      return this.handler.getSvgPoint({ x: event.offsetX, y: event.offsetY });\n    },\n\n    mouseBtn(event) {\n      if (event.button !== 0) {\n        return;\n      }\n\n      if (event.type === \"mousedown\") {\n        this.leftclicking = true;\n      }\n\n      if (event.type === \"mousemove\") {\n        this.leftclicking = false;\n      }\n\n      if (event.type === \"mouseup\") {\n        if (this.leftclicking) {\n          this.$emit(\"map-click\", {\n            event,\n            svgpoint: this.mouseEventMapCoords(event),\n          });\n        }\n      }\n    },\n    windowResize() {\n      this.handler.resize();\n    },\n    reducePath(wpts) {\n      function dist(point, x, z) {\n        var dx = x - point.x;\n        var dz = z - point.z;\n        return Math.sqrt(Math.pow(dx, 2) + Math.pow(dz, 2));\n      }\n\n      function distToSegment(point, start, end) {\n        var dx = end.x - start.x;\n        var dz = end.z - start.z;\n        var l2 = dx * dx + dz * dz;\n\n        if (l2 == 0) return this.dist(point, start.x, start.z);\n\n        var t = ((point.x - start.x) * dx + (point.z - start.z) * dz) / l2;\n        t = Math.max(0, Math.min(1, t));\n\n        return dist(point, start.x + t * dx, start.z + t * dz);\n      }\n\n      return wpts.reduce((reduced, wpt, wptIndex) => {\n        if (wptIndex < 2) {\n          reduced.push(wpt);\n          return reduced;\n        }\n\n        if (\n          distToSegment(wpts[wptIndex - 1], reduced.slice(-2, -1)[0], wpt) <\n          0.15\n        ) {\n          reduced.splice(-1)[0];\n        }\n\n        reduced.push(wpt);\n\n        return reduced;\n      }, []);\n    },\n  },\n  beforeDestroy: function() {\n    window.removeEventListener(\"resize\", this.windowResize);\n  },\n\n  mounted() {\n    this.handler = new svghandling(this.$refs.svgMap);\n    window.addEventListener(\"resize\", this.windowResize);\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.mapbounds {\n  fill: white;\n  stroke: rgb(59, 56, 39);\n  stroke-width: 2;\n}\n\n.draggable {\n  cursor: move;\n}\n\n.waypoints .waypoint {\n  fill: transparent;\n  stroke: rgb(255, 101, 0);\n  stroke-width: 0.1;\n}\n\n.waypoints .waypoint:hover {\n  fill: rgb(78, 64, 63);\n}\n\n.waypoints .node {\n  fill: rgb(255, 166, 0);\n  stroke: rgb(255, 0, 0);\n  stroke-width: 0.3;\n}\n\n.waypoints .node:hover {\n  fill: rgb(78, 64, 63);\n}\n\n.waypoints .marker {\n  fill: rgb(92, 60, 2);\n  stroke: rgb(231, 152, 48);\n  stroke-width: 0.4;\n}\n\n.marker-label {\n  font-size: 10px;\n  font-weight: 700;\n  fill: rgb(92, 60, 2);\n  stroke: rgb(255, 166, 0);\n  stroke-width: 0.2;\n}\n\n.branches .branch {\n  fill: none;\n  stroke-linecap: round;\n  stroke: rgb(75, 255, 75);\n  stroke-opacity: 0.6;\n  stroke-width: 1.5;\n}\n\n.branches .editing .branch {\n  stroke: rgb(97, 68, 14);\n  stroke-opacity: 1;\n  stroke-width: 0.4;\n}\n\n.branches .branch:hover {\n  stroke-opacity: 1;\n}\n\n.branches .branch.bidirectional {\n  stroke: rgb(251, 47, 251);\n}\n\n.branches .branch.reverse {\n  stroke: rgb(47, 251, 251);\n}\n\n.branches .branch.unidirectional,\n.branches .branch.reverse {\n  marker-mid: url(#arrow);\n  marker-start: url(#arrow);\n}\n\n.branches marker branch {\n  stroke-width: 0.1;\n  stroke: rgb(6, 77, 6);\n  fill: transparent;\n}\n\n.selection .branch {\n  fill: none;\n  stroke-linecap: round;\n  stroke: rgb(9, 0, 139);\n  stroke-width: 0.3;\n}\n\n.selection .waypoint {\n  fill: none;\n  stroke-width: 0.3;\n  stroke: rgb(9, 0, 139);\n}\n\n.selection .highlight {\n  stroke: rgb(212, 0, 219);\n  stroke-width: 0.5;\n}\n\n.preview .line {\n  fill: none;\n  stroke: rgb(212, 0, 219);\n  stroke-width: 0.2;\n}\n\n.selection .waypoint.single {\n  stroke: rgb(12, 255, 24);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=6941540f&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=6941540f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6941540f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"border border-gray-400 rounded shadow-md p-2 flex flex-col\"},[(_vm.hasTitle)?_c('div',{staticClass:\"shadow-inner bg-gray-100 rounded flex mb-2\",class:{ collapsable: _vm.collapsable },on:{\"click\":function($event){if (_vm.collapsable) {\n        _vm.collapsed = !_vm.collapsed;\n      }}}},[_c('h2',{staticClass:\"w-full text-center font-bold uppercase\"},[_vm._t(\"title\"),(_vm.collapsable)?[(_vm.collapsed)?_c('span',[_vm._v(\"⇓\")]):_c('span',[_vm._v(\"⇑\")])]:_vm._e()],2)]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsable || !_vm.collapsed),expression:\"!collapsable || !collapsed\"}]},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"border border-gray-400 rounded shadow-md p-2 flex flex-col\">\n    <div\n      v-if=\"hasTitle\"\n      class=\"shadow-inner bg-gray-100 rounded flex mb-2\"\n      :class=\"{ collapsable }\"\n      @click=\"\n        if (collapsable) {\n          collapsed = !collapsed;\n        }\n      \"\n    >\n      <h2 class=\"w-full text-center font-bold uppercase\">\n        <slot name=\"title\" />\n        <template v-if=\"collapsable\">\n          <span v-if=\"collapsed\">⇓</span>\n          <span v-else>⇑</span>\n        </template>\n      </h2>\n    </div>\n    <div v-show=\"!collapsable || !collapsed\">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    collapsable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      collapsed: false,\n    };\n  },\n  computed: {\n    hasTitle() {\n      return !!this.$slots.title;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.collapsable {\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=9c76647a&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=9c76647a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9c76647a\",\n  null\n  \n)\n\nexport default component.exports","export function closestPointToLine(p, a, b) {\n  // https://jsfiddle.net/soulwire/UA6H5/\n  var atob = { x: b.x - a.x, z: b.z - a.z };\n  var atop = { x: p.x - a.x, z: p.z - a.z };\n  var len = atob.x * atob.x + atob.z * atob.z;\n  var dot = atop.x * atob.x + atop.z * atob.z;\n  var t = Math.min(1, Math.max(0, dot / len));\n\n  if (t === 0.0 || t === 1.0) {\n      // do not move if out of the line\n    return;\n  }\n\n  return {\n    x: a.x + atob.x * t,\n    z: a.z + atob.z * t,\n  };\n}\n","import { closestPointToLine } from \"./math\";\n\nclass actionExecutor {\n  editor;\n\n  constructor(editor) {\n    this.editor = editor;\n  }\n\n  addWaypoint(data, reverse) {\n    if (!reverse) {\n      let newPwt = this.editor.map.addWaypoint({\n        x: +data.x.toFixed(3),\n        y: +data.y.toFixed(3),\n        z: +data.z.toFixed(3),\n      });\n      return {\n        action: \"addWaypoint\",\n        data: newPwt,\n      };\n    }\n    this.editor.map.removeWaypoint(data.index);\n    return {\n      action: \"addWaypoint\",\n      data: {\n        x: data.x,\n        y: data.y,\n        z: data.z,\n      },\n    };\n  }\n  removeWaypoint(data, reverse) {\n    if (!reverse) {\n      if (!this.editor.map.removeWaypoint(data.index)) {\n        return;\n      }\n\n      return {\n        action: \"removeWaypoint\",\n        data,\n      };\n    }\n\n    this.editor.map.addWaypoint({ waypoint: data });\n\n    return {\n      action: \"removeWaypoint\",\n      data,\n    };\n  }\n\n  selectionInsert(data, reverse) {\n    let { index, item } = data;\n    if (!reverse) {\n      this.editor.selection.splice(index, 0, item);\n    } else {\n      this.editor.selection.splice(index, 1);\n    }\n    return {\n      action: \"selectionInsert\",\n      data,\n    };\n  }\n\n  selectionMove(data) {\n    let { index, toIndex } = data;\n    if (index >= this.editor.selection.length) {\n      index = this.editor.selection.length - 1;\n    }\n\n    this.editor.selection.splice(\n      toIndex,\n      0,\n      this.editor.selection.splice(index, 1)[0]\n    );\n\n    return {\n      action: \"selectionMove\",\n      data: {\n        index: toIndex,\n        toIndex: index,\n      },\n    };\n  }\n\n  selectionAdd(data, reverse) {\n    if (!reverse) {\n      this.editor.selection.push(data);\n      return {\n        action: \"selectionAdd\",\n      };\n    }\n\n    data = this.editor.selection.pop();\n    return {\n      action: \"selectionAdd\",\n      data,\n    };\n  }\n\n  selectionRemoveItems({ start, count, removed }, reverse) {\n    if (!reverse) {\n      let removed = this.editor.selection.splice(start, count);\n      return {\n        action: \"selectionRemoveItems\",\n        data: {\n          start,\n          removed,\n        },\n      };\n    }\n    this.editor.selection.splice(start, 0, ...removed);\n    return {\n      action: \"selectionRemoveItems\",\n      data: {\n        start,\n        count: removed.length,\n      },\n    };\n  }\n\n  reverseSelection() {\n    this.editor.selection.reverse();\n\n    return {\n      action: \"reverseSelection\",\n    };\n  }\n\n  selectionReplace(data) {\n    let remember = {\n      action: \"selectionReplace\",\n      data: this.editor.selection.slice(),\n    };\n    this.editor.selection = data;\n    return remember;\n  }\n\n  selectionRemoveAtIndex(data, reverse) {\n    if (!reverse) {\n      return {\n        action: \"selectionRemoveAtIndex\",\n        data: {\n          index: data,\n          item: this.editor.selection.splice(data, 1)[0],\n        },\n      };\n    }\n    this.editor.selection.splice(data.index, 0, data.item);\n    return {\n      action: \"selectionRemoveAtIndex\",\n      data: data.index,\n    };\n  }\n\n  movedWaypoint({ waypoint, dragstart, dragend }, reverse) {\n    if (!reverse) {\n      if (dragend) {\n        waypoint.x = dragend.x;\n        waypoint.z = dragend.z;\n      }\n\n      return {\n        action: \"movedWaypoint\",\n        data: { waypoint, dragstart },\n      };\n    }\n\n    dragend = {\n      x: waypoint.x,\n      z: waypoint.z,\n    };\n\n    waypoint.x = dragstart.x;\n    waypoint.z = dragstart.z;\n\n    return {\n      action: \"movedWaypoint\",\n      data: { waypoint, dragstart, dragend },\n    };\n  }\n\n  alignWpts({ wpts, start, end, movedWpts, highlightEventType }, reverse) {\n    if (highlightEventType) {\n      if (highlightEventType === \"mouseenter\") {\n        this.editor.preview = {\n          line: [start, end],\n        };\n      }\n      if (highlightEventType === \"mouseleave\") {\n        this.editor.preview = null;\n      }\n      return;\n    }\n    if (wpts && !reverse) {\n      let movedWpts = [];\n\n      wpts.forEach((wpt) => {\n        if (wpt === start || wpt === end) {\n          return;\n        }\n        let newPos = closestPointToLine(wpt, start, end);\n        if (!newPos) {\n          return;\n        }\n        newPos.x = +newPos.x.toFixed(3);\n        newPos.z = +newPos.z.toFixed(3);\n        if (newPos.x === wpt.x && newPos.z === wpt.z) {\n          return;\n        }\n\n        movedWpts.push({\n          wpt,\n          original: {\n            x: wpt.x,\n            z: wpt.z,\n          },\n        });\n\n        wpt.x = newPos.x;\n        wpt.z = newPos.z;\n      });\n\n      if (movedWpts.length) {\n        this.editor.lastAlignment = {\n          start,\n          end,\n        };\n        return {\n          action: \"alignWpts\",\n          data: { movedWpts },\n        };\n      }\n      return;\n    }\n\n    let originalwpts = [];\n\n    movedWpts.forEach(({ wpt, original }) => {\n      originalwpts.push({\n        wpt,\n        original: {\n          x: wpt.x,\n          z: wpt.z,\n        },\n      });\n\n      wpt.x = original.x;\n      wpt.z = original.z;\n    });\n\n    return {\n      action: \"alignWpts\",\n      data: { movedWpts: originalwpts },\n    };\n  }\n\n  linkWayPointsToggle(data) {\n    let wptA = data[0];\n    let wptB = data[1];\n    let reverse = data[2];\n\n    let wptALinkType = wptA.linkType(wptB.index);\n    let wptBLinkType = wptB.linkType(wptA.index);\n\n    if (wptALinkType === null && wptBLinkType === null) {\n      // add a -> b\n      wptA.outs.push(wptB.index);\n      if (!reverse) {\n        wptB.ins.push(wptA.index);\n      }\n    } else if (\n      (wptALinkType === \"out\" && wptBLinkType === \"in\") ||\n      (wptALinkType === \"reverse-out\" && wptBLinkType === \"reverse-in\")\n    ) {\n      // remove a -> b\n      let idxOut = wptA.outs.indexOf(wptB.index);\n      if (idxOut !== -1) {\n        wptA.outs.splice(idxOut, 1);\n      }\n      let idxIn = wptB.ins.indexOf(wptA.index);\n      if (idxIn !== -1) {\n        wptB.ins.splice(idxIn, 1);\n      }\n    } else if (\n      (wptALinkType === \"in\" && wptBLinkType === \"out\") ||\n      (wptALinkType === \"reverse-in\" && wptBLinkType === \"reverse-out\")\n    ) {\n      // switch to bidirectional\n      wptA.outs.push(wptB.index);\n      wptB.ins.push(wptA.index);\n    } else {\n      // bidirectional to b -> a\n      let idxOut = wptA.outs.indexOf(wptB.index);\n      if (idxOut !== -1) {\n        wptA.outs.splice(idxOut, 1);\n      }\n      let idxIn = wptB.ins.indexOf(wptA.index);\n      if (idxIn !== -1) {\n        wptB.ins.splice(idxIn, 1);\n      }\n    }\n\n    return {\n      action: \"linkWayPointsToggle\",\n      data,\n    };\n  }\n\n  toggleBranchLinkType({ branch, option, original, highlightEventType }) {\n    if (highlightEventType) {\n      return;\n    }\n    if (!original) {\n      let checkedOption = false;\n      if (!option) {\n        return;\n      }\n      if (\n        (option === \"oneWay\" && branch.bidirectional) ||\n        ((option === \"twoWay\" || option === \"switchDirection\") &&\n          !branch.bidirectional &&\n          !branch.reverse) ||\n        (option === \"toggleReverse\" && !branch.bidirectional)\n      ) {\n        checkedOption = true;\n      }\n\n      if (!checkedOption) {\n        return;\n      }\n\n      let original = branch.wpts.map((wpt) => {\n        return {\n          wpt,\n          ins: wpt.ins.slice(0),\n          outs: wpt.outs.slice(0),\n        };\n      });\n\n      let prevWpt;\n\n      branch.wpts.forEach((wpt) => {\n        if (prevWpt) {\n          if (option === \"oneWay\") {\n            prevWpt.ins.splice(prevWpt.ins.indexOf(wpt.index), 1);\n            wpt.outs.splice(wpt.outs.indexOf(prevWpt.index), 1);\n          }\n          if (option === \"twoWay\" || option === \"switchDirection\") {\n            prevWpt.ins.push(wpt.index);\n            wpt.outs.push(prevWpt.index);\n          }\n          if (option === \"switchDirection\") {\n            prevWpt.outs.splice(prevWpt.outs.indexOf(wpt.index), 1);\n            wpt.ins.splice(wpt.ins.indexOf(prevWpt.index), 1);\n          }\n\n          if (option === \"toggleReverse\") {\n            let insIndex = wpt.ins.indexOf(prevWpt.index);\n            if (insIndex === -1) {\n              wpt.ins.push(prevWpt.index);\n            } else {\n              wpt.ins.splice(insIndex, 1);\n            }\n          }\n        }\n\n        prevWpt = wpt;\n      });\n\n      return {\n        action: \"toggleBranchLinkType\",\n        data: {\n          original,\n        },\n      };\n    }\n\n    let prevOriginal = original.map(({ wpt }) => {\n      return {\n        wpt,\n        ins: wpt.ins.slice(0),\n        outs: wpt.outs.slice(0),\n      };\n    });\n\n    original.forEach((wdata) => {\n      wdata.wpt.ins = wdata.ins;\n      wdata.wpt.outs = wdata.outs;\n    });\n\n    return {\n      action: \"toggleBranchLinkType\",\n      data: {\n        original: prevOriginal,\n      },\n    };\n  }\n}\n\nexport default class Editor {\n  executor;\n  actions;\n  redoables;\n  map;\n  selection;\n  toolsAvailable;\n  preview;\n\n  constructor(map) {\n    this.executor = new actionExecutor(this);\n    this.actions = [];\n    this.redoables = [];\n    this.map = map;\n    this.selection = [];\n    this.toolsAvailable = [];\n    this.preview = null;\n  }\n\n  undo() {\n    if (!this.actions.length) {\n      return;\n    }\n\n    let undo = this.actions.pop();\n\n    this.redoables.push({\n      rebuildBranches: undo.rebuildBranches,\n      label: undo.label,\n      actions: undo.actions\n        .slice(0)\n        .reverse()\n        .map(({ action, data }) => this.executor[action](data, true))\n        .reverse(),\n    });\n\n    if (undo.rebuildBranches) {\n      this.mapRebuildBranches();\n    }\n    this.updateAvilableTools();\n  }\n\n  redo() {\n    if (!this.redoables.length) {\n      return;\n    }\n    let redo = this.redoables.pop();\n\n    this.actions.push({\n      rebuildBranches: redo.rebuildBranches,\n      label: redo.label,\n      actions: redo.actions.map(({ action, data }) =>\n        this.executor[action](data, false)\n      ),\n    });\n\n    if (redo.rebuildBranches) {\n      this.mapRebuildBranches();\n    }\n    this.updateAvilableTools();\n  }\n\n  mapRebuildBranches() {\n    this.selection = this.selection.filter(({ branch }) => !branch);\n    this.map.buildBranches();\n  }\n\n  doneaction(action) {\n    if (!action) {\n      return false;\n    }\n    this.actions.push(action);\n    this.redoables = [];\n\n    if (action.rebuildBranches) {\n      this.mapRebuildBranches();\n    }\n\n    this.updateAvilableTools();\n\n    return true;\n  }\n\n  updateAvilableTools() {\n    this.toolsAvailable = [];\n    let { wpts, branches } = this.selectionWaypointsAndBranches();\n\n    let alignOptions = [];\n\n    if (wpts.length > 2) {\n      alignOptions.push({\n        label: \"Selection 1st and last\",\n        data: {\n          start: wpts[0],\n          end: wpts.slice(-1)[0],\n          wpts: wpts.slice(1, -1),\n        },\n        description:\n          \"Align \" +\n          wpts.length +\n          \" wpts in selection along a line from # \" +\n          wpts[0].index +\n          \" to #\" +\n          wpts.slice(-1)[0].index,\n      });\n    }\n\n    if (\n      wpts.length &&\n      this.lastAlignment &&\n      this.lastAlignment.start !== wpts[0] &&\n      this.lastAlignment.end !== wpts[0] &&\n      this.lastAlignment.start !== wpts.slice(-1)[0] &&\n      this.lastAlignment.end !== wpts.slice(-1)[0]\n    ) {\n      let alignable = wpts.filter(\n        (w) =>\n          w.index !== this.lastAlignment.start.index &&\n          w.index !== this.lastAlignment.end.index\n      );\n\n      if (alignable.length) {\n        alignOptions.push({\n          label: \"Prev. 1st and last\",\n          data: {\n            start: this.lastAlignment.start,\n            end: this.lastAlignment.end,\n            wpts,\n          },\n          description:\n            \"Align \" +\n            wpts.length +\n            \" wpts in selection along a line from # \" +\n            this.lastAlignment.start.index +\n            \" to #\" +\n            this.lastAlignment.end.index,\n        });\n      }\n    }\n\n    if (alignOptions.length) {\n      let description;\n      let data;\n      let options;\n\n      if (alignOptions.length === 1) {\n        description = alignOptions[0].description;\n        data = alignOptions[0].data;\n      } else {\n        options = alignOptions;\n      }\n\n      this.toolsAvailable.push({\n        icon: \"settings_ethernet\",\n        label: \"Align waypoints\",\n        description,\n        action: \"alignWpts\",\n        data,\n        options,\n      });\n    }\n\n    if (branches.length === 1 && this.selection.length === 1) {\n      let branch = branches[0];\n\n      let options = [];\n\n      if (branch.bidirectional) {\n        options.push({\n          label: \"One way\",\n          value: \"oneWay\",\n          icon: \"arrow_right_alt\",\n        });\n      }\n\n      if (!branch.bidirectional) {\n        if (!branch.reverse) {\n          options.push({\n            label: \"Bidirectional\",\n            value: \"twoWay\",\n            icon: \"compare_arrows\",\n          });\n\n          options.push({\n            label: \"Opposite direction\",\n            value: \"switchDirection\",\n            icon: \"cached\",\n          });\n        }\n\n        options.push({\n          label: (branch.reverse ? \"Forward\" : \"Reverse\") + \" driving\",\n          value: \"toggleReverse\",\n          icon: \"swap_horizontal_circle\",\n        });\n      }\n\n      let icon = \"timeline\";\n      let description =\n        \"Change all links in branch # \" + branches[0].index + \" to \";\n      let option;\n\n      if (options.length === 1) {\n        icon = options[0].icon;\n        description += options[0].label;\n        option = options[0].value;\n        options = null;\n      } else {\n        description += \" selected type\";\n      }\n\n      this.toolsAvailable.push({\n        icon,\n        label: \"Change branch type\",\n        description,\n        action: \"toggleBranchLinkType\",\n        options,\n        data: {\n          branch,\n          option,\n        },\n        rebuildBranches: true,\n      });\n    }\n  }\n\n  selectionItemCmd({ item, index, cmd }) {\n    let action;\n\n    if (cmd.value === \"expand\") {\n      let actions = [this.executor.selectionRemoveAtIndex(index)];\n\n      item.branch.wpts\n        .slice(0)\n        .reverse()\n        .forEach((wpt) => {\n          actions.push(\n            this.executor.selectionInsert({\n              index,\n              item: { waypoint: wpt },\n            })\n          );\n        });\n\n      action = {\n        label: \"Expand selection branch #\" + item.branch.index,\n        actions,\n      };\n    }\n\n    if (cmd.value === \"remove\") {\n      action = {\n        label: \"Remove item from selection\",\n        actions: [this.executor.selectionRemoveAtIndex(index)],\n      };\n    }\n\n    if (cmd.value === \"removeBefore\" || cmd.value === \"removeAfter\") {\n      let start = cmd.value === \"removeBefore\" ? 0 : index + 1;\n      let count =\n        cmd.value === \"removeBefore\"\n          ? index\n          : this.selection.length - (index + 1);\n\n      action = {\n        label: \"Remove items from selection\",\n        actions: [this.executor.selectionRemoveItems({ start, count })],\n      };\n    }\n\n    let toIndex;\n\n    if (cmd.value == \"top\") {\n      toIndex = 0;\n    }\n    if (cmd.value == \"up\") {\n      toIndex = index - 1;\n    }\n    if (cmd.value == \"down\") {\n      toIndex = index + 1;\n    }\n    if (cmd.value == \"bottom\") {\n      toIndex = this.selection.length;\n    }\n\n    if (toIndex !== undefined) {\n      action = {\n        label: cmd.label + \" selection item \",\n        actions: [this.executor.selectionMove({ index, toIndex })],\n      };\n    }\n\n    this.doneaction(action);\n  }\n\n  toolAction(\n    { action, data, label, rebuildBranches },\n    option,\n    highlightEventType\n  ) {\n    if (option) {\n      if (option.data !== undefined) {\n        data = option.data;\n      }\n      if (option.value !== undefined) {\n        data.option = option.value;\n      }\n    }\n    data.highlightEventType = highlightEventType;\n\n    let doneAction = this.executor[action](data);\n    if (doneAction) {\n      this.doneaction({\n        label,\n        actions: [doneAction],\n        rebuildBranches,\n      });\n    }\n  }\n\n  selectionWaypointsAndBranches() {\n    let wpts = [];\n    let branches = [];\n    this.selection.forEach((item) => {\n      if (\n        item &&\n        item.waypoint &&\n        !wpts.find((w) => w.index === item.waypoint.index)\n      ) {\n        wpts.push(item.waypoint);\n      }\n      if (item && item.branch) {\n        if (!branches.find((p) => p.index === item.branch.index)) {\n          branches.push(item.branch);\n          item.branch.wpts.forEach((wpt) => {\n            if (!wpts.find((w) => w.index === wpt.index)) {\n              wpts.push(wpt);\n            }\n          });\n        }\n      }\n    });\n    return { wpts, branches };\n  }\n\n  deleteKeyAction(event) {\n    return (\n      event.code === \"Delete\" &&\n      !event.ctrlKey &&\n      !event.shiftKey &&\n      !event.altKey &&\n      !event.metaKey &&\n      !event.repeat\n    );\n  }\n\n  keyUp(event) {\n    let action;\n\n    if (this.deleteKeyAction(event)) {\n      let { wpts } = this.selectionWaypointsAndBranches();\n      if (!wpts.length) {\n        return;\n      }\n\n      let actions = [this.executor.selectionReplace([])];\n\n      wpts.forEach((wpt) => {\n        let done = this.executor.removeWaypoint(wpt);\n        if (done) {\n          actions.push(done);\n        }\n      });\n\n      action = {\n        label: \"Remove selected items\",\n        actions,\n        rebuildBranches: true,\n      };\n    }\n\n    if (\n      event.ctrlKey &&\n      !event.shiftKey &&\n      !event.altKey &&\n      !event.metaKey &&\n      !event.repeat\n    ) {\n      if (event.code === \"KeyZ\") {\n        this.undo();\n        return true;\n      }\n      if (event.code === \"KeyY\") {\n        this.redo();\n        return true;\n      }\n      if (event.code === \"KeyS\") {\n        this.map.save();\n        return true;\n      }\n    }\n\n    return this.doneaction(action);\n  }\n\n  wptDragged({ waypoint, dragstart }) {\n    this.doneaction({\n      label: \"Move Waypont # \" + waypoint.index,\n      actions: [this.executor.movedWaypoint({ waypoint, dragstart })],\n    });\n  }\n\n  reverseSelection() {\n    this.doneaction({\n      label: \"Reverse selection\",\n      actions: [this.executor.reverseSelection()],\n    });\n  }\n\n  emptySelection() {\n    this.doneaction({\n      label: \"Empty selection\",\n      actions: [this.executor.selectionReplace([])],\n    });\n  }\n\n  mapClick({ event, svgpoint }) {\n    if (\n      this.selection.length &&\n      !event.ctrlKey &&\n      !event.shiftKey &&\n      !event.altKey &&\n      !event.metaKey\n    ) {\n      this.emptySelection();\n      return;\n    }\n    let action;\n\n    if (event.ctrlKey && !event.shiftKey && !event.altKey && !event.metaKey) {\n      let y = this.map\n        .waypointsArray()\n        .sort(\n          (a, b) =>\n            Math.sqrt(\n              Math.pow(a.x - svgpoint.x, 2) + Math.pow(a.z - svgpoint.y, 2)\n            ) -\n            Math.sqrt(\n              Math.pow(b.x - svgpoint.x, 2) + Math.pow(b.z - svgpoint.y, 2)\n            )\n        )\n        .slice(0, 2);\n\n      if (y.length) {\n        y = y.reduce((sum, w) => sum + w.y, 0) / y.length;\n      } else {\n        y = 0;\n      }\n\n      action = {\n        label: \"Add new Waypoint\",\n\n        actions: [\n          this.executor.addWaypoint({\n            x: +svgpoint.x.toFixed(3),\n            y: +y.toFixed(3),\n            z: +svgpoint.y.toFixed(3),\n          }),\n        ],\n      };\n    }\n\n    this.doneaction(action);\n  }\n\n  mouseReplaceSelectionAction(event, item) {\n    if (\n      !(\n        (!this.selection.length || !event.ctrlKey) &&\n        !event.shiftKey &&\n        !event.altKey\n      )\n    ) {\n      return;\n    }\n    let type;\n    let index;\n\n    if (item.waypoint) {\n      type = \"waypoint\";\n      index = item.waypoint.index;\n    } else if (item.branch) {\n      type = \"branch\";\n      index = item.branch.index;\n    }\n\n    return {\n      label: \"Set \" + type + \" # \" + index + \" as selection\",\n      actions: [this.executor.selectionReplace([item])],\n    };\n  }\n\n  mouseAddToSelectionAction(event, item) {\n    if (\n      !(\n        this.selection.length &&\n        event.ctrlKey &&\n        !event.shiftKey &&\n        !event.altKey\n      )\n    ) {\n      return;\n    }\n\n    let type;\n    let index;\n\n    if (item.waypoint) {\n      type = \"waypoint\";\n      index = item.waypoint.index;\n    } else if (item.branch) {\n      type = \"branch\";\n      index = item.branch.index;\n    }\n\n    let action;\n\n    let selectionIndex = this.selection.findIndex(\n      (selection) =>\n        (item.waypoint && selection.waypoint === item.waypoint) ||\n        (item.branch && selection.branch === item.branch)\n    );\n    if (selectionIndex !== -1) {\n      if (this.selection.length === 1) {\n        action = {\n          label: \"Empty selection\",\n          actions: [this.executor.selectionReplace([])],\n        };\n      } else {\n        action = {\n          label: \"Remove \" + type + \" # \" + index + \" from selection\",\n          actions: [this.executor.selectionRemoveAtIndex(selectionIndex)],\n        };\n      }\n    } else {\n      action = {\n        label: \"Add \" + type + \" # \" + index + \" to selection\",\n        actions: [this.executor.selectionAdd(item)],\n      };\n    }\n    return action;\n  }\n\n  selectionMouseActions(event, item) {\n    let action = this.mouseAddToSelectionAction(event, item);\n    if (!action) {\n      action = this.mouseReplaceSelectionAction(event, item);\n    }\n    return action;\n  }\n\n  branchClick({ event, branch }) {\n    let item = { branch };\n\n    let action = this.selectionMouseActions(event, item);\n\n    this.doneaction(action);\n  }\n\n  wptClick({ event, waypoint }) {\n    let item = { waypoint };\n\n    let action = this.selectionMouseActions(event, item);\n\n    if (\n      !action &&\n      this.selection.length === 1 &&\n      this.selection.slice(0)[0].waypoint &&\n      this.selection.slice(0)[0].waypoint.index !== waypoint.index &&\n      !event.ctrlKey &&\n      event.shiftKey\n    ) {\n      let origin = this.selection.slice(0)[0].waypoint;\n      action = {\n        label: \"Toggle Link # \" + origin.index + \" -> # \" + waypoint.index,\n        actions: [\n          this.executor.linkWayPointsToggle([origin, waypoint, event.altKey]),\n        ],\n        rebuildBranches: true,\n      };\n    }\n\n    this.doneaction(action);\n  }\n}\n","<template>\n  <div id=\"app\" class=\"flex flex-row h-screen w-screen items-stretch\">\n    <!-- Left Col -->\n    <div\n      class=\"flex flex-grow-0 flex-col items-stretch p-2\"\n      style=\"width: 16em;\"\n    >\n      <Card class=\"flex-grow-0 mb-2\">\n        <template #title>\n          Files\n        </template>\n        <LoadRoute\n          @loading-status=\"mapLoading = $event\"\n          @map-image-change=\"mapImageURL = $event\"\n          @map-xml-loaded=\"mapLoaded\"\n          :cansave=\"!mapLoading && !!editor\"\n          @save-map=\"saveMap\"\n        />\n\n        <div class=\"flex\" v-if=\"error\">\n          <span class=\"text-red-600 font-bold w-full \" v-text=\"error\" />\n        </div>\n      </Card>\n\n      <template v-if=\"!mapLoading && editor\">\n        <Card\n          v-if=\"editor.selection.length\"\n          :collapsable=\"false\"\n          class=\"flex-grow-0 mb-2\"\n        >\n          <template #title>\n            Selected items\n          </template>\n          <ul>\n            <li\n              v-for=\"(item, index) in editor.selection\"\n              :key=\"selectionItemKey(item)\"\n              @mouseenter=\"mouseOver('selection', $event, { item })\"\n              @mouseleave=\"mouseOver('selection', $event, { item })\"\n            >\n              <v-popover\n                :disabled=\"selectionItemCmds(item, index).length === 0\"\n                placement=\"right\"\n                openClass=\"bg-pink-300\"\n                class=\"v-popover--block cursor-pointer hover:bg-pink-300\"\n                popoverInnerClass=\"bg-gray-200 p-2 rounded shadow flex flex-row\"\n              >\n                <div class=\"tooltip-target\">\n                  <div v-if=\"item.waypoint\">\n                    <span>Waypoint # {{ item.waypoint.index }}</span>\n                    <span\n                      v-if=\"item.waypoint.marker\"\n                      v-text=\"item.waypoint.marker.name\"\n                      class=\"ml-1 font-bold\"\n                    />\n                  </div>\n                  <div v-if=\"item.branch\">\n                    <span\n                      >Branch # {{ item.branch.index }} ({{\n                        item.branch.wpts.length\n                      }}\n                      wpts)</span\n                    >\n                  </div>\n                </div>\n\n                <template slot=\"popover\">\n                  <div\n                    class=\"flex-col mb-1\"\n                    v-for=\"cmdGroup in selectionItemCmds(item, index)\"\n                    :key=\"cmdGroup.group\"\n                    @mouseenter=\"mouseOver('selection', $event, { item })\"\n                    @mouseleave=\"mouseOver('selection', $event, { item })\"\n                  >\n                    <button\n                      @click=\"selectionItemCmd({ item, index, cmd })\"\n                      v-for=\"cmd in cmdGroup.cmds\"\n                      :key=\"cmd.value\"\n                      class=\"flex bg-gray-300 hover:bg-gray-400 p-1 whitespace-no-wrap\"\n                      v-tooltip.right=\"cmd.label\"\n                    >\n                      <span\n                        class=\"material-icons fill-current\"\n                        v-text=\"cmd.icon\"\n                      />\n                    </button>\n                  </div>\n                </template>\n              </v-popover>\n            </li>\n          </ul>\n          <div class=\"flex flex-row text-xs\">\n            <button\n              v-if=\"editor.selection.length\"\n              @click=\"emptySelection\"\n              class=\"m-1 p1 w-full border shadow has-tooltip\"\n            >\n              Empty\n            </button>\n            <button\n              v-if=\"editor.selection.length > 1\"\n              @click=\"reverseSelection\"\n              class=\"m-1 p1 w-full border shadow has-tooltip\"\n            >\n              Reverse\n            </button>\n          </div>\n        </Card>\n\n        <Card :collapsable=\"false\" class=\"flex-grow mb-2\">\n          <template #title>\n            Tools\n          </template>\n\n          <div\n            v-for=\"toolInstance in editor.toolsAvailable\"\n            :key=\"toolInstance.action\"\n            class=\"flex flex-col self-stretch mb-1\"\n            :class=\"{ dropdown: toolInstance.options }\"\n          >\n            <button\n              @mouseenter=\"\n                if (!toolInstance.options) {\n                  mouseOver('toolInstance', $event, { toolInstance });\n                }\n              \"\n              @mouseleave=\"\n                if (!toolInstance.options) {\n                  mouseOver('toolInstance', $event, { toolInstance });\n                }\n              \"\n              @click=\"\n                if (!toolInstance.options) {\n                  toolAction(toolInstance);\n                }\n              \"\n              class=\"inline-flex items-stretch bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-1 px-2 rounded\"\n              v-tooltip.right=\"toolInstance.description\"\n            >\n              <span\n                class=\"material-icons fill-current mr-1\"\n                v-text=\"toolInstance.icon\"\n              />\n              <span v-text=\"toolInstance.label\" />\n              <span v-if=\"toolInstance.options\">🠋</span>\n            </button>\n            <ul\n              v-if=\"toolInstance.options\"\n              class=\"flex flex-col self-stretch dropdown-content absolute hidden text-gray-800 pt-1 mt-8\"\n            >\n              <li\n                class=\"flex block self-stretch\"\n                v-for=\"option in toolInstance.options\"\n                :key=\"option.index\"\n              >\n                <button\n                  @mouseenter=\"\n                    mouseOver('toolInstance', $event, { toolInstance, option })\n                  \"\n                  @mouseleave=\"\n                    mouseOver('toolInstance', $event, { toolInstance, option })\n                  \"\n                  @click=\"toolAction(toolInstance, option)\"\n                  class=\"flex w-full items-stretch bg-gray-300 hover:bg-gray-400 p-1 whitespace-no-wrap\"\n                  v-tooltip.right=\"option.description\"\n                >\n                  <span\n                    v-if=\"option.icon\"\n                    class=\"material-icons fill-current mr-1\"\n                    v-text=\"option.icon\"\n                  />\n                  <span v-text=\"option.label\" />\n                </button>\n              </li>\n            </ul>\n          </div>\n        </Card>\n\n        <Card\n          class=\"flex-grow-0\"\n          v-if=\"editor && (editor.actions.length || editor.redoables.length)\"\n        >\n          <template #title>\n            Undo/Redo\n          </template>\n          <div class=\"flex flex-row\">\n            <div class=\"flex-1 m-1\">\n              <button\n                class=\"w-full border shadow\"\n                @click=\"undo\"\n                v-if=\"editor.actions.length\"\n                v-tooltip.top=\"editor.actions.slice(-1)[0].label\"\n              >\n                Undo\n              </button>\n            </div>\n            <div class=\"flex-1 m-1\">\n              <button\n                class=\"w-full  border shadow\"\n                @click=\"redo\"\n                v-if=\"editor.redoables.length\"\n                v-tooltip.top=\"editor.redoables.slice(-1)[0].label\"\n              >\n                Redo\n              </button>\n            </div>\n          </div>\n        </Card>\n\n        <Card class=\"flex-grow-0\">\n          <template #title>\n            Info\n          </template>\n          <div class=\"flex flex-col text-sm\">\n            <span class=\"flex text-center\">\n              <label class=\"mr-1\" for=\"mapsize\">Map Size</label>\n              <input\n                type=\"number\"\n                id=\"mapsize\"\n                list=\"sizes\"\n                v-model=\"editor.map.size\"\n              />\n              <datalist id=\"sizes\">\n                <option\n                  v-for=\"(desc, size) in defaultMapSizes\"\n                  :key=\"size\"\n                  :value=\"size\"\n                  v-text=\"desc\"\n                />\n              </datalist>\n\n              <span v-if=\"factor\" class=\"ml-1\">({{ factor }})</span>\n            </span>\n\n            <span class=\"flex text-center\">\n              Waypoints: {{ editor.map.waypointsArray().length }}\n            </span>\n            <span class=\"flex text-center\">\n              Branches: {{ editor.map.branches.length }}\n            </span>\n          </div>\n        </Card>\n      </template>\n      <Card>\n        <div class=\"text-xs\">\n          For info and help see\n          <a\n            class=\"font-semibold text-gray-700 underline hover:text-gray-800 hover:no-underline\"\n            href=\"https://github.com/manierim/adeditor#main-features\"\n            target=\"_blank\"\n            >readme on GitHub</a\n          >\n        </div>\n      </Card>\n    </div>\n    <Map\n      @map-click=\"mapClick\"\n      @branch-click=\"branchClick\"\n      @wpt-click=\"wptClick\"\n      @wpt-dragged=\"wptDragged\"\n      class=\"flex flex-grow border border-gray-400 rounded shadow-md m-2 ml-0 p-2\"\n      v-if=\"!mapLoading && editor\"\n      :mapImageURL=\"mapImageURL\"\n      :editor=\"editor\"\n      :selection=\"selectionWithHL\"\n    />\n  </div>\n</template>\n\n<script>\nimport LoadRoute from \"./components/LoadRoute\";\nimport Map from \"./components/Map\";\n\nimport Card from \"./components/partials/Card\";\nimport Editor from \"./utils/editor\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Card,\n    LoadRoute,\n    Map,\n  },\n  data: () => ({\n    editor: null,\n    mapImageURL: null,\n    mapLoading: false,\n    error: null,\n    defaultMapSizes: {\n      2048: \"default\",\n      4096: \"4x\",\n      8192: \"8x\",\n    },\n    highlight: {\n      selection: null,\n    },\n  }),\n  computed: {\n    selectionWithHL() {\n      return this.editor.selection.map((item) => {\n        item.highlight =\n          this.highlight.selection === this.selectionItemKey(item);\n        return item;\n      });\n    },\n    factor() {\n      if (!this.editor || !this.editor.map.size) {\n        return null;\n      }\n\n      if (this.defaultMapSizes[this.editor.map.size]) {\n        return this.defaultMapSizes[this.editor.map.size];\n      }\n\n      return \"custom\";\n    },\n  },\n\n  mounted() {\n    window.addEventListener(\"keydown\", (event) => {\n      if (this.editor && this.editor.keyUp(event)) {\n        this.highlight.selection = null;\n        event.preventDefault();\n      }\n    });\n  },\n\n  methods: {\n    selectionItemKey(item) {\n      if (item.waypoint) {\n        return \"waypoint-\" + item.waypoint.index;\n      }\n      if (item.branch) {\n        return \"branch-\" + item.branch.index;\n      }\n    },\n    selectionItemCmds(item, index) {\n      let grps = [];\n\n      let cmds = [];\n\n      if (index > 1) {\n        cmds.push({\n          label: \"Move to top\",\n          icon: \"vertical_align_top\",\n          value: \"top\",\n        });\n      }\n      if (index > 0) {\n        cmds.push({\n          label: \"Move up\",\n          icon: \"keyboard_arrow_up\",\n          value: \"up\",\n        });\n      }\n\n      let lastIndex = this.editor.selection.length - 1;\n\n      if (index < lastIndex) {\n        cmds.push({\n          label: \"Move down\",\n          icon: \"keyboard_arrow_down\",\n          value: \"down\",\n        });\n      }\n\n      if (index < lastIndex - 1) {\n        cmds.push({\n          label: \"Move to bottom\",\n          icon: \"vertical_align_bottom\",\n          value: \"bottom\",\n        });\n      }\n\n      if (cmds.length) {\n        grps.push({\n          group: \"move\",\n          cmds,\n        });\n      }\n\n      if (item.branch) {\n        grps.push({\n          group: \"branch\",\n          cmds: [\n            {\n              label: \"Expand to wapypoints\",\n              icon: \"open_with\",\n              value: \"expand\",\n            },\n          ],\n        });\n      }\n\n      cmds = [];\n\n      if (index > 1) {\n        cmds.push({\n          label: \"Remove all before\",\n          icon: \"vertical_align_bottom\",\n          value: \"removeBefore\",\n        });\n      }\n\n      cmds.push({\n        label: \"Remove from selection\",\n        icon: \"delete\",\n        value: \"remove\",\n      });\n\n      if (index < lastIndex) {\n        cmds.push({\n          label: \"Remove all after\",\n          icon: \"vertical_align_top\",\n          value: \"removeAfter\",\n        });\n      }\n\n      grps.push({\n        group: \"remove\",\n        cmds,\n      });\n\n      return grps;\n    },\n\n    emptySelection() {\n      this.editor.emptySelection();\n    },\n\n    reverseSelection() {\n      this.editor.reverseSelection();\n    },\n\n    selectionItemCmd(params) {\n      this.editor.selectionItemCmd(params);\n    },\n    async saveMap() {\n      if (!this.editor || !this.editor.map) {\n        return;\n      }\n      this.editor.map.save();\n    },\n    mapLoaded(response) {\n      this.error = response.error;\n      if (response.map) {\n        this.editor = new Editor(response.map);\n      }\n    },\n    undo() {\n      this.editor.undo();\n    },\n    redo() {\n      this.editor.redo();\n    },\n    toolAction(toolInstance, option) {\n      this.editor.toolAction(toolInstance, option);\n    },\n    mapClick({ event, svgpoint }) {\n      this.editor.mapClick({ event, svgpoint });\n    },\n    branchClick(event) {\n      this.editor.branchClick(event);\n    },\n    wptClick(event) {\n      this.editor.wptClick(event);\n    },\n    wptDragged(event) {\n      this.editor.wptDragged(event);\n    },\n    mouseOver(elementType, event, data) {\n      if (elementType === \"selection\") {\n        let { item } = data;\n\n        if (event.type === \"mouseenter\") {\n          this.highlight.selection = this.selectionItemKey(item);\n        }\n\n        if (event.type === \"mouseleave\") {\n          this.highlight.selection = null;\n        }\n        return;\n      }\n\n      if (elementType === \"toolInstance\") {\n        let { toolInstance, option } = data;\n        this.editor.toolAction(toolInstance, option, event.type);\n        return;\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.v-popover--block,\n.v-popover--block > .trigger {\n  display: block !important;\n}\n</style>\n\n<style scoped>\ninput[type=\"number\"] {\n  text-align: center;\n}\n\n#mapsize {\n  width: 5em;\n}\n.dropdown:hover > .dropdown-content {\n  display: block;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4a9a39c4&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=4a9a39c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a9a39c4\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport VTooltip from \"v-tooltip\";\r\nimport \"./assets/css/style.css\";\r\nimport \"typeface-roboto\";\r\nimport \"material-icons\";\r\n\r\nVue.use(VTooltip);\r\n\r\nVue.config.productionTip = false;\r\n\r\nimport App from \"./App.vue\";\r\nnew Vue({\r\n  render: (h) => h(App),\r\n}).$mount(\"#app\");\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=9c76647a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=9c76647a&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=4a9a39c4&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=4a9a39c4&scoped=true&lang=css&\""],"sourceRoot":""}